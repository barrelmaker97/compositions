---
version: "2"

services:
  watchtower:
    image: containrrr/watchtower
    container_name: watchtower
    environment:
      TZ: America/Chicago
      WATCHTOWER_CLEANUP: "true"
      WATCHTOWER_POLL_INTERVAL: 3600
    volumes:
      - "/var/run/docker.sock:/var/run/docker.sock"
    restart: always
  grafana:
    extends:
      file: ../monitoring/monitoring-compose.yaml
      service: grafana
  prometheus:
    extends:
      file: ../monitoring/monitoring-compose.yaml
      service: prometheus
  alertmanager:
    extends:
      file: ../monitoring/monitoring-compose.yaml
      service: alertmanager
  node-exporter:
    extends:
      file: ../monitoring/monitoring-compose.yaml
      service: node-exporter
  kuma:
    extends:
      file: ../monitoring/monitoring-compose.yaml
      service: kuma
